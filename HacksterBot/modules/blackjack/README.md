# 🃏 Blackjack 模組

HacksterBot 的21點遊戲模組，提供完整的21點遊戲體驗，包含 AI 對手、統計追蹤和排行榜功能。

## ✨ 功能特色

### 🎮 遊戲功能
- **完整21點規則**：標準21點遊戲規則，包含軟牌和硬牌計算
- **AI 莊家**：智慧 AI 莊家提供遊戲評論和策略建議
- **即時互動**：使用 Discord 按鈕進行遊戲操作
- **美觀界面**：精美的 Embed 顯示和表情符號

### 📊 統計系統
- **個人統計**：追蹤勝率、總分數、連勝記錄
- **排行榜**：全伺服器玩家排名
- **積分系統**：
  - 一般勝利：100 分
  - 黑傑克勝利：150 分
  - 平手：50 分

### 🤖 AI 功能
- **智慧評論**：AI 根據遊戲狀況提供評論
- **策略建議**：基本21點策略提示
- **鼓勵機制**：勝利慶祝和失敗安慰

## 🎯 指令列表

### 主要指令
- `/blackjack` - 開始新的21點遊戲
- `/bj_stats` - 查看個人統計資料
- `/bj_leaderboard` - 查看排行榜

### 遊戲操作
- **要牌 (Hit)** 🎯 - 抽取一張牌
- **停牌 (Stand)** ✋ - 保持當前手牌
- **新遊戲** 🔄 - 開始新一局
- **查看統計** 📊 - 查看個人數據

## 🎲 遊戲規則

### 基本規則
1. **目標**：手牌總和盡可能接近21點，但不能超過
2. **牌值**：
   - A：1或11點（自動選擇最佳值）
   - K、Q、J：10點
   - 2-10：面值點數

### 勝負判定
- **黑傑克**：前兩張牌總和為21點
- **爆牌**：手牌總和超過21點
- **比大小**：未爆牌情況下比較總和

### 莊家規則
- 16點或以下必須要牌
- 17點或以上必須停牌

## 🏗️ 技術架構

### 模組結構
```
blackjack/
├── __init__.py          # 模組主檔案
├── game.py              # 遊戲邏輯核心
├── ui.py                # Discord UI 組件
├── services/
│   ├── game_manager.py  # 遊戲管理器
│   └── ai_opponent.py   # AI 對手服務
└── README.md            # 說明文檔
```

### 核心類別
- `BlackjackGame`：遊戲邏輯核心
- `GameManager`：遊戲生命週期管理
- `AIOpponent`：AI 對手和評論
- `BlackjackView`：Discord UI 介面

## 🎨 遊戲畫面

### 遊戲開始
```
🃏 21點遊戲 🃏

🤖 莊家 (AI): 🂠 K♠️ (顯示: 10)

👤 你: 7♦️ A♠️ (總計: 18)

🤖 AI 莊家
好運氣！讓我們開始這場精彩的21點對決吧！
```

### 統計資料
```
📊 你的21點統計

🎮 基本統計
總遊戲數: 25
勝利: 12
平手: 3
敗北: 10

📈 表現統計
勝率: 48.0%
總分數: 1350
當前連勝: 2
最佳連勝: 5

🏆 排名
第 3 名
```

## 🔧 配置選項

### 環境變數
無需額外配置，模組預設啟用。

### 自訂設定
- 可在 `core/bot.py` 中調整模組啟用狀態
- AI 評論依賴於 AI 模組配置

## 🚀 安裝與使用

### 1. 確認依賴
- MongoDB 連接正常
- AI 模組已配置（可選）

### 2. 啟動機器人
模組會自動載入，無需額外設定。

### 3. 開始遊戲
在 Discord 中使用 `/blackjack` 指令開始遊戲！

## 🎯 遊戲策略

### 基本策略
- **12-16點**：莊家明牌2-6時停牌，7-A時要牌
- **軟17**：包含A的17點，通常要牌
- **雙A或雙8**：理想情況下分牌（未實現）

### 進階技巧
- 觀察莊家明牌決定策略
- 注意軟牌和硬牌的區別
- 管理風險，適時停牌

## 🐛 疑難排解

### 常見問題
1. **遊戲無法開始**
   - 檢查是否有進行中的遊戲
   - 確認機器人權限正常

2. **統計不更新**
   - 檢查 MongoDB 連接
   - 確認遊戲正常結束

3. **AI 評論不顯示**
   - 檢查 AI 模組配置
   - 會自動降級到預設評論

## 🎉 享受遊戲！

21點是技巧與運氣的完美結合。祝你好運，享受與 AI 莊家的精彩對決！

---

*Made with ❤️ for HackIt Community* 